
@{
    ViewBag.Title = "VetAppointList";
}
<h2>Vet Appointment Report</h2>


<div class="criteria">
    <div class="btn-group">
        <button type="button" id="btnTo" value="Generate" class="btn btn-primary">Generate</button>
        <button type="button" class="btn btn-dark" id="btnPrint" style="float:right" onclick="printContent('Appointment');">Print</button>
    </div>

</div>
<hr style="background-color:dodgerblue" />
<div id="Appointment" style="border-radius:20px;background-color:rgb(0, 138, 255)">
    <h2 style="color:white"><span style="text-align:center">Vet Appointment Report</span></h2>
    <table class="table table-striped table-dark" id="tblAdded">
        <thead>
            <tr>
                <th>Animal Name</th>
                <th>Vet Name</th>
                <th>Vet Telephone</th>
                <th>Kennel Name</th>
            </tr>
        </thead>
        <tbody id="table1">
            
        </tbody>
    </table>
</div>

@section Scripts{
    <script>
        $(document).ready(function () {
            $("#btnPrint").attr("disabled", true);
            $("#Appointment").hide();
            $('#btnTo').click(function () {
                    $.ajax({
                        url: '/Reports/VetAppointList1',
                        type: "Post",
                        dataType: "json",
                        contentType: "application/json; charset=utf-8",
                        data: "",
                        success: function (data) {
                            $('#tblAdded').find("tbody").empty();
                            console.log(data); debugger
                            var i = 0;
                            var length = data.length;
                            while (i < length) {

                                var rowS = "<tr><td>" + data[i].AnName + "</td><td>" + data[i].VetName + "</td><td>" + data[i].VetTel + "</td><td>" + data[i].kenName + "</td></tr>";
                                i++
                            $("#table1").append(rowS);
                            }
                            $("#btnPrint").attr("disabled", false);
                            $("#Appointment").show();
                        },
                        error: function (xhr, ajaxoptions, thrownError) {
                            alert(thrownError);
                        }
                    });
            });
        });
        function TDate() {
            var selectedDate = $('#InDate').val();
            var now = new Date();
            now.setHours(0, 0, 0, 0);
            if (new Date(selectedDate).getDate() > now.getDate()) {
                alert("The Date You Selected Has not Arrived lol");
                return false;
            }
            if ($('#InDate').val().trim() == "") {
                alert("Oops you Have not selected a Date");
                return false;
            }
            return true;
        };
    </script>
    <script>
        function printContent(el) {
            var retorepage = $('body').html();
            var printcontent = $('#' + el).clone();
            $('body').empty().html(printcontent);
            window.print();
            $('body').html(retorepage);
        }
    </script>
}

