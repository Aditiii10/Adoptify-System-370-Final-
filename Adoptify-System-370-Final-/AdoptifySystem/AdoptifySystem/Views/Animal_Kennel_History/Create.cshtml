
@model AdoptifySystem.Models.nickeymodel.Innovation

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .row {
        display: flex;
    }

    .column {
        flex: 50%;
    }

    .card {
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        border-radius: 5px;
    }

    img {
        border-radius: 5px 5px 0 0;
    }
</style>
<div id="main">
    <h1 class="table-primary" style="width:100%">Move Animal to Kennel</h1>
    @using (Html.BeginForm("Search_Animal", "Animal_Kennel_History", FormMethod.Get))
    {
        <div id="animal" class="row">
            <div id="animalpick" class="column">
                @if (Model.animals != null)
                {
                    <select id="selectedanimal" onclick="sync(this)" class="custom-select">
                        <option>--Select Animal---</option>
                        @foreach (var item in Model.animals)
                        {
                            <option value="@item.Animal_ID">@item.Animal_Name</option>
                        }
                    </select>
                }
                else
                {
                    <h1>Go Add animal @Html.ActionLink("SearchAnimal", "Animal")</h1>
                }
            </div>
            <div id="animaldetails" class="column">
                @if (Model.animal != null)
                {
                    <div class="card border-primary mb-3">
                        <h3 class="card-header">Animal Name @Model.animal.Animal_Name</h3>
                        @if (Model.animal.Animal_Image == null)
                        {
                            <img style="height: 200px; width: 100%; display: block;" src="data:image/png;base64,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" alt="Card image">

                        }
                        else
                        {
                            <img style="height: 200px; width: 100%; display: block;" src="data:image/jpg;base64,@Convert.ToBase64String(Model.animal.Animal_Image)" alt="Card image">
                        }

                        <div class="card-body">
                            <ul>
                                @*<li>@Model.animal.Animal_Type.Animal_Type_Name</li>
                                    <li>@Model.animal.Animal_Breed.Animal_Breed_Name</li>*@
                                <li>@Model.animal.Animal_Age</li>
                                <li>@Model.animal.Animal_Gender</li>
                            </ul>
                        </div>
                    </div>
                }

            </div>
        </div>
        <br />
        <div class="row">
            <input type="text" id="pa" name="inid" hidden />
            <button id="btnSave" class="btn btn btn-primary" title="Search Animal">Select Animal</button>
        </div>
    }
    <br />
    <div id="kennel" class="row">
        @if (Model != null)
        {
            <div id="kennelpick" class="column">
                <select id="selectedkennel" name="Kennel_ID" onchange="LoadKennel()" class="custom-select">
                    <option>--Select Kennel---</option>
                    @foreach (var item in Model.Kennels)
                    {
                        <option value="@item.Kennel_ID">@item.Kennel_Name</option>
                    }
                </select>
            </div>
            <div id="kenneldetails" class="column">

            </div>
        }
        else
        {
            <h1>Go Add animal @Html.ActionLink("SearchAnimal", "Animal")</h1>
        }
    </div>
</div>
<br />
<div class="row">

    @Html.ActionLink("Cancel", "SearchKennel", "Kennel", null, new { @class = "btn btn-warning" })
    @using (Html.BeginForm("Moveanimal", "Animal_Kennel_History", FormMethod.Get))
    {
        <button id="btnSave" class="btn btn btn-success" style="float:right;" title="Save">Move Animal</button>
    }
</div>
<script>
    function sync() {
        var x = document.getElementById("selectedanimal");
        document.getElementById("pa").value = x.value;
        //alert("Index: " + y[x].index + " is " + y[x].text);
    }
    function LoadKennel() {
        var x = document.getElementById("selectedkennel");
        if (x.selectedIndex == 0) {
            alert("Select a Kennel");
        } else {
            $.ajax(
                {
                    type: "GET",
                    url: "/Animal_Kennel_History/Search_Kennel",
                    data: { 'inid': x.value },
                    dataType: 'json',
                    contentType: 'application/json; charset=utf-8',
                    success: function (data) {
                        console.log(data);
                        //render products to appropriate dropdown
                        var s = '<div class="card border-primary mb-3">';
                        s += '<div class="card-header">' + data.Kennel_Name + '</div><div class="card-body"><ul>';
                        s += '<li>Space Left: ' + data.Kennel_Space + '</li><li>Capacity of Kennel: ' + data.Kennel_Capacity + '</li>';
                        s += '</ul></div></div>';
                        $("#kenneldetails").html(s);
                        //var text = document.getElementById("__searchit1");
                        //text.classList.add("is-valid");
                    },
                    error: function (error) {
                        alert("There was an internal error");
                    }
                })
        }
    }
</script>